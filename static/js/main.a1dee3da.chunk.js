(this.webpackJsonpsea_battle=this.webpackJsonpsea_battle||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){e.exports=n(29)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(3),r=n(1),l=n(0),c=n.n(l),o=n(10),s=(n(18),n(19),function(e){var t=e.logout,n=e.userName,a=Object(l.useState)(!1),o=Object(r.a)(a,2),s=o[0],i=o[1],u=function(e){i((function(e){return!e}))};return c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"control_buttons"},c.a.createElement("img",{className:"button__left_control",src:"./img/logout.png",alt:"logout",onClick:function(){return t()}}),c.a.createElement("img",{className:"button__left_control",src:"./img/records.png",alt:"records",onClick:function(e){return u()}})),c.a.createElement(D,{show:s,onClose:u},c.a.createElement(B,null)),c.a.createElement(k,{name:n}),c.a.createElement(H,{name:n}))}),i=(n(20),{fieldSize:10,ships:{battleship:{size:4,amount:1,units:[],destroyed:[]},cruiser:{size:3,amount:2,units:[],destroyed:[]},destroyer:{size:2,amount:3,units:[],destroyed:[]},boat:{size:1,amount:4,units:[],destroyed:[]}},safeValue:5,timeAIIsWaiting:500,timerStart:30,defaultHeaders:{"Content-Type":"application/json; charset=utf-8"},timeLoadChatMessages:1e3,timeLoadRecords:5e3}),u=function(e){var t=e.field,n=e.mode,a=e.playFor,r=e.handleClick;return c.a.createElement("div",{className:"field"},t.map((function(e,t){return c.a.createElement("div",{className:"row",key:t},e.map((function(e,l){var o=function(e){var t="cell",r="empty";return parseInt(e)===-1*i.safeValue?r="missed":parseInt(e)<0&&(r="killed"),"prepare"===n&&(t+=" big_cell"),"string"===typeof e?t+=" safe":"play"===n&&"AI"===a||"prepare"===n&&"player"===a?e&&Math.abs(e)!==i.safeValue||(t+=" empty"):"killed"!==r&&(t+=" empty"),{idName:r,className:t}}(e),s=o.idName,u=o.className;return c.a.createElement("div",{className:u,onClick:function(){return r(t,l,a)},key:l},c.a.createElement("div",{id:s},"killed"===s&&c.a.createElement("img",{src:"./img/fire.png",alt:"killed"})))})))})))},f=n(12),m=n(2),d=n.n(m),h=(n(23),function(e,t,n){var a=[e],r=[{futureShip:e.y-n,offset:{y:-1,x:0}},{futureShip:e.x+n,offset:{y:0,x:1}},{futureShip:e.y+n,offset:{y:1,x:0}},{futureShip:e.x-n,offset:{y:0,x:-1}}],l=function(r){var l=r.futureShip,c=r.offset;if(0<=l&&l<i.fieldSize){for(var o=[],s=n;s;)o.push(t[e.y+s*c.y][e.x+s*c.x]),s--;o.every((function(e){return!e}))&&o.forEach((function(t,n){return a.push(new w(e.y+(n+1)*c.y,e.x+(n+1)*c.x))}))}};if(n)do{var c=d.a.random(r.length-1);l(r[c]),1===a.length&&r.splice(c,1)}while(1===a.length&&r.length);return a}),g=function(e,t){var n=j(e),a=[];do{var r=n[d.a.random(n.length-1)];a=h(r,e,t-1)}while(a.length!==t);return a.forEach((function(n){return e[n.y][n.x]=t})),p(e,a),{coords:a,renderedField:e}},p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=i.safeValue,r=i.fieldSize,l=[-1,0,1];t.forEach((function(t){l.forEach((function(c){var o=t.y+c;l.forEach((function(l){var c=t.x+l;0<=o&&o<r&&0<=c&&c<r&&(n&&Math.abs(e[o][c])===i.safeValue||!e[o][c])&&(e[o][c]=n?String(e[o][c]):a)}))}))}))},b=function(e,t,n){var a=n.ship||{startPoint:null,endPoint:null},r=a.startPoint,l=a.endPoint,c={row:null,cell:null},o={startPoint:null,endPoint:null},s=function(){var t={},n=0,a=j(e);do{t=a[d.a.random(a.length-1)],n=+e[t.y][t.x]}while(n<0||5===n||"0"===e[t.y][t.x]);return console.log("search start",t,e),{headRow:t.y,headCell:t.x}},u=function(e,t){return 0<=e&&e<i.fieldSize&&0<=t&&t<i.fieldSize},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=l.row-r.row,a=l.cell-r.cell,c=t?-1:1;return{row:n?e.row+c*(n/Math.abs(n)):e.row,cell:a?e.cell+c*(a/Math.abs(a)):e.cell}},m=function(){var t={tailRow:null,tailCell:null},n=[{offset:{row:-1,cell:0}},{offset:{row:0,cell:1}},{offset:{row:1,cell:0}},{offset:{row:0,cell:-1}}].filter((function(t){return u(r.row+t.offset.row,r.cell+t.offset.cell)&&!e[r.row+t.offset.row][r.cell+t.offset.cell]}));if(r.row-l.row&&r.cell-l.cell){console.log("search end equals",n);var a=f(r),c=n.findIndex((function(e){return e.offset.row===a.row-r.row&&e.offset.cell===a.cell-r.cell}));-1!==c&&(console.log("found",a,c),t.tailRow=r.row+n[c].offset.row,t.tailCell=r.cell+n[c].offset.cell)}if(null===t.tailCell)if(console.log("search end tail == null",r,l,n),n.length){var o=n[d.a.random(n.length-1)].offset;t.tailRow=r.row+o.row,t.tailCell=r.cell+o.cell}else{var i=s(),m=i.headRow,h=i.headCell;r.row=t.tailRow=m,r.cell=t.tailCell=h}return t};if(!r||e[r.row][r.cell]===-1*i.safeValue||t){console.log("in first",r,l);var h=s(),g=h.headRow,p=h.headCell;c.row=g,c.cell=p,o.startPoint=y(c),o.endPoint=y(c),console.log("out first",c,o)}else if(!l||r.row===l.row&&r.cell===l.cell||e[l.row][l.cell]===-1*i.safeValue){console.log("in second",r,l,e[l.row][l.cell]);var b=m(),v=b.tailRow,E=b.tailCell;c.row=v,c.cell=E,o.startPoint=r,o.endPoint=y(c),console.log("out second",c,o)}else{console.log("in third",r,l);var O=f(l);console.log("getMoved",O);var w=O.row,S=O.cell;if(!u(w,S)||Math.abs(+e[w][S])===i.safeValue){console.log("in third check can visit",w,S);var N=m();w=N.tailRow,S=N.tailCell}c.row=w,c.cell=S,o.startPoint=r,o.endPoint=y(c),console.log("out third",c,o)}return{rowAI:c.row,cellAI:c.cell,ship:o}},v=new Array(i.fieldSize).fill(new Array(i.fieldSize).fill(0)),E=n(11),y=function(e){var t={};return e instanceof Array?t=e.map((function(e){return Object(E.a)(e)})):e instanceof Object&&(t=JSON.parse(JSON.stringify(e))),t},O=function(e,t,n){var a=-1*(+e[t][n]?+e[t][n]:i.safeValue);return e[t][n]="string"===typeof e[t][n]?String(a):a,e[t][n]},j=function(e){return e.flat().map((function(e,t){if(!e)return new w(Math.floor(t/i.fieldSize),t%i.fieldSize)})).filter((function(e){return e instanceof w}))};var w=function(e,t){this.x=t,this.y=e},S=function(e){var t=new Date(e),n=t.getFullYear(),a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],r=t.getDate(),l=t.getHours(),c="0"+t.getMinutes(),o="0"+t.getSeconds();return a+"-"+r+"-"+n+" "+l+":"+c.substr(-2)+":"+o.substr(-2)},N=function(e){var t,n,a;return a=e-(3600*(t=Math.floor(e/3600))+60*(n=Math.floor((e-3600*t)/60))),{hours:String(t).padStart(2,"0"),minutes:String(n).padStart(2,"0"),seconds:String(a).padStart(2,"0")}},C=function(e){return Object.fromEntries(Object.entries(y(i.ships)).map((function(t){var n=Object(r.a)(t,2),a=n[0],l=n[1];return d.a.times(l.amount,(function(){var t=g(e,l.size),n=t.coords,a=t.renderedField;l.units.push(n),e=a})),l.destroyed=new Array(l.amount).fill(0),[a,l]})))},x=function(e,t,n){var a=null;return Object.entries(e).forEach((function(e){var l=Object(r.a)(e,2),c=(l[0],l[1]),o=c.units.findIndex((function(e){return!!e.filter((function(e){return e.y===t&&e.x===n})).length}));-1!==o&&++c.destroyed[o]===c.size&&(a=c.units[o])})),a},k=function(e){var t=e.name,n=Object(l.useState)(""),o=Object(r.a)(n,2),s=o[0],m=o[1],d=Object(l.useState)("prepare"),h=Object(r.a)(d,2),g=h[0],E=h[1],j=Object(l.useState)("false"),w=Object(r.a)(j,2),S=w[0],N=w[1],k=Object(l.useState)(y(v)),M=Object(r.a)(k,2),_=M[0],A=M[1],z=Object(l.useState)(y(v)),P=Object(r.a)(z,2),T=P[0],V=P[1],H=Object(l.useState)(y(i.ships)),R=Object(r.a)(H,2),J=R[0],B=R[1],L=Object(l.useState)(y(v)),W=Object(r.a)(L,2),q=W[0],G=W[1],U=Object(l.useState)(y(i.ships)),Y=Object(r.a)(U,2),K=Y[0],Q=Y[1],X=Object(l.useState)({}),Z=Object(r.a)(X,2),$=Z[0],ee=Z[1],te=Object(l.useState)(!1),ne=Object(r.a)(te,2),ae=ne[0],re=ne[1],le=Object(l.useState)({status:!1,person:""}),ce=Object(r.a)(le,2),oe=ce[0],se=ce[1],ie=(Object(l.useRef)(!1),Object(l.useState)(!0)),ue=Object(r.a)(ie,2),fe=ue[0],me=ue[1],de=Object(l.useState)(!1),he=Object(r.a)(de,2),ge=he[0],pe=he[1],be=function(e){pe((function(e){return!e}))};Object(l.useEffect)((function(){if("prepare"===g||S){var e=y(v),t=y(v);B(C(e)),V(e),Q(C(t)),G(t),A(y(v)),ee({}),N(!1)}}),[g,S]),Object(l.useEffect)((function(){oe.status&&(be(),E("prepare"),me(!1),se({status:!1,person:""}),ve())}));var ve=function(){if(s){var e=T.flat().filter((function(e){return+e<0&&+e!==-1*i.safeValue})).length;fetch("/api/records/".concat(s),{method:"PATCH",headers:Object(a.a)({},i.defaultHeaders),body:JSON.stringify({score:e})}).then((function(e){if(200!==e.status)throw new Error(e.statusText);console.log("Sent score data successfully")})).catch((function(e){return console.log(e)}))}else console.log("Game ID \u043d\u0435 \u0437\u0430\u0434\u0430\u043d")};function Ee(e,t,n){if("play"===g&&"player"===n&&T[e][t]>=0&&!ae&&fe){var a=y(T);if(O(a,e,t),+a[e][t]!==-1*i.safeValue){var r=x(J,e,t);r&&(p(a,r,!0),ye("person",a)),V(a)}else{V(a);var l=y(q),c=y(_),o=$,s=0,u=!1,m=!1,d=function(){A(c),G(l),ee(o)},h=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise((function(t,n){+s===-1*i.safeValue||m?n("finished"):(e&&d(),re(!0),setTimeout((function(){re(!1),t(b(y(_),u,o))}),i.timeAIIsWaiting))}))};!function e(t){t.then((function(t){var n=t.rowAI,a=t.cellAI,r=Object(f.a)(t,["rowAI","cellAI"]);u=!1,o=r,c[n][a]=s=O(l,n,a);var i=x(K,n,a);i&&(u=!0,p(l,i,!0),p(c,i,!0),m=ye("AI",l)),e(h(!0))}),(function(e){d()}))}(h())}}}var ye=function(e,t){if(function(e){return!e.filter((function(e){return!!e.filter((function(e){return+e>0&&+e!==i.safeValue})).length})).length}(t)){var n="person";return"AI"===e&&(n="AI"),se({status:!0,person:n}),!0}return!1};return c.a.createElement("div",{id:"game"},c.a.createElement(D,{show:ge,onClose:be},"AI"===oe.person?"\u042d\u0442\u043e \u043f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0435...\u0423\u0432\u044b :(":"\u041f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u0435\u043c! \u0412\u044b \u043f\u043e\u0431\u0435\u0434\u0438\u043b\u0438!"),"play"===g&&c.a.createElement("div",{className:"game_header"},c.a.createElement(F,{fleet:K,name:"Smart",player:"AI"}),c.a.createElement(I,{action:fe}),c.a.createElement(F,{fleet:J,name:t,player:"user"})),c.a.createElement("div",{id:"fields"},c.a.createElement(u,{playFor:"prepare"===g?"player":"AI",field:q,mode:g,handleClick:Ee}),"play"===g&&c.a.createElement(u,{playFor:"player",field:T,mode:g,handleClick:Ee})),c.a.createElement("div",{className:"button_group"},c.a.createElement("img",{className:"but__down",src:"./img/".concat("prepare"===g?"power-button":"refresh",".png"),alt:"control",onClick:function(){"prepare"===g?(E("play"),me(!0),fetch("/api/records",{method:"POST",headers:Object(a.a)({},i.defaultHeaders),body:JSON.stringify({game:"\u041c\u043e\u0440\u0441\u043a\u043e\u0439 \u0431\u043e\u0439"})}).then((function(e){if(200===e.status)return console.log("Successfully notify server about game start"),e.json();throw new Error(e.statusText)})).then((function(e){m(e.id)})).catch((function(e){return console.log(e)}))):(me(!1),E("prepare"),ve())}}),"prepare"===g?c.a.createElement("img",{className:"but__down",src:"./img/loop.png",alt:"refresh",onClick:function(){return N(!0)}}):c.a.createElement("img",{className:"but__down",src:"./img/".concat(fe?"pause":"play",".png"),alt:"timer",onClick:function(){fe&&ve(),me((function(e){return!e}))}})))},I=(n(24),function(e){var t=e.action,n=Object(l.useState)(0),a=Object(r.a)(n,2),o=a[0],s=a[1],i=Object(l.useState)(null),u=Object(r.a)(i,2),f=u[0],m=u[1],d=Object(l.useState)(null),h=Object(r.a)(d,2),g=h[0],p=h[1],b=Object(l.useState)(null),v=Object(r.a)(b,2),E=v[0],y=v[1],O=Object(l.useState)(null),j=Object(r.a)(O,2),w=j[0],S=j[1];return Object(l.useEffect)((function(){return t?m(setInterval((function(){s((function(e){return e+1}))}),1e3)):clearInterval(f)}),[t]),Object(l.useEffect)((function(){var e=N(o),t=e.hours,n=e.minutes,a=e.seconds;p(t),y(n),S(a)}),[o]),c.a.createElement("div",{id:"timer"},c.a.createElement("strong",null,g," : ",E," : ",w))}),M=(n(25),document.getElementById("id01"));window.onclick=function(e){e.target===M&&(M.style.display="none")};var _=function(e){var t=e.logIn,n=Object(l.useState)(""),o=Object(r.a)(n,2),s=o[0],u=o[1];return c.a.createElement("div",null,c.a.createElement("button",{onClick:function(){return document.getElementById("id01").style.display="block"},className:"ENT"},"\u0418\u0433\u0440\u0430\u0442\u044c \xab\u041c\u043e\u0440\u0441\u043a\u043e\u0439 \u0411\u043e\u0439\xbb"),c.a.createElement("div",{id:"id01",className:"modal"},c.a.createElement("form",{className:"modal-content animate",onSubmit:function(e){e.preventDefault(),fetch("/api/users",{method:"POST",headers:Object(a.a)({},i.defaultHeaders),body:JSON.stringify({name:s})}).then((function(e){if(200!==e.status)throw 400===e.status?new Error("\u041f\u043e\u043b\u044c\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"):new Error(e.statusText);console.log("login for ".concat(s," is successful")),t(s)})).catch((function(e){return alert(e)}))}},c.a.createElement("div",{className:"imgcontainer"},c.a.createElement("span",{onClick:function(){return document.getElementById("id01").style.display="none"},className:"close",title:"Close Modal"},"\xd7"),c.a.createElement("img",{src:"https://thumbs.gfycat.com/FrankFreeAmericankestrel-size_restricted.gif",alt:"Avatar",className:"avatar"})),c.a.createElement("div",{className:"container"},c.a.createElement("label",{htmlFor:"uname",style:{fontSize:"2vh"}},c.a.createElement("b",null,"\u041f\u0440\u0438\u0432\u0435\u0442, \u044f Smart, \u0430 \u0442\u044b...")),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("input",{className:"form-row",type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f",name:"uname",autoComplete:"off",value:s,onChange:function(e){return u(e.target.value)},required:!0}),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("button",{type:"submit",className:"button1"},"\u0418\u0413\u0420\u0410\u0422\u042c")))))},A=n(4),z=n(5),P=n(7),T=n(6),V=n(8);n(26);var H=function(e){function t(){var e,n;Object(A.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(n=Object(P.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(l)))).state={messages:[],interval:null,color:null},n.onSendMessage=function(e){fetch("/api/messages",{method:"POST",headers:Object(a.a)({},i.defaultHeaders),body:JSON.stringify({text:e})}).then((function(e){if(200!==e.status)throw new Error(e.statusText);console.log("Successfully sent message to server"),n.loadMessages()})).catch((function(e){return console.log(e)}))},n}return Object(V.a)(t,e),Object(z.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({interval:setInterval((function(){return e.loadMessages()}),i.timeLoadChatMessages),color:"rgba("+d.a.random(255)+", "+d.a.random(255)+", "+d.a.random(255)+", 0.65)"})}},{key:"loadMessages",value:function(){var e=this,t=[];fetch("/api/messages",{headers:Object(a.a)({},i.defaultHeaders)}).then((function(e){if(200===e.status)return console.log("Successfully loaded messages"),e.json();throw new Error(e.statusText)})).then((function(n){n.forEach((function(e){var n=e.user,a=e.game,r=e.text,l=e.time,c=e.isMine;t.push({name:n,text:r,isMine:c,game:a,time:l})}));var a=document.getElementsByClassName("Message-content");a.scrollTop=a.scrollHeight,e.setState({messages:t})})).catch((function(e){return console.log(e)}))}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.interval)}},{key:"render",value:function(){return c.a.createElement("div",{className:"Chat"},c.a.createElement("div",{className:"Chat-header"},c.a.createElement("h1",null,"\u041e\u0431\u0449\u0438\u0439 \u0447\u0430\u0442")),c.a.createElement(J,{messages:this.state.messages,color:this.state.color}),c.a.createElement(R,{onSendMessage:this.onSendMessage}))}}]),t}(l.Component),R=function(e){function t(){var e,n;Object(A.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(P.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).state={text:""},n}return Object(V.a)(t,e),Object(z.a)(t,[{key:"onChange",value:function(e){this.setState({text:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault(),this.props.onSendMessage(this.state.text),this.setState({text:""})}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"Input"},c.a.createElement("form",{onSubmit:function(t){return e.onSubmit(t)},className:"chat_form"},c.a.createElement("input",{className:"chat_input",onChange:function(t){return e.onChange(t)},value:this.state.text,type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"}),c.a.createElement("button",{className:"chat_button"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")))}}]),t}(l.Component),J=function(e){function t(){return Object(A.a)(this,t),Object(P.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(V.a)(t,e),Object(z.a)(t,[{key:"render",value:function(){var e=this,t=this.props.messages;return c.a.createElement("ul",{className:"Messages-list"},t.map((function(t){return e.renderMessage(t)})))}},{key:"renderMessage",value:function(e){var t=e.name,n=e.text,a=e.isMine,r=e.game,l=e.time,o=a,s=o?"Messages-message currentMember":"Messages-message";return c.a.createElement("li",{className:s},c.a.createElement("div",{className:"Message-content"},!o&&c.a.createElement("div",{className:"username"},c.a.createElement("strong",null,t,c.a.createElement("span",null,r&&" -> "),r)),c.a.createElement("div",{className:"text",style:{backgroundColor:this.props.color}},n),c.a.createElement("div",{className:"time"},S(l))))}}]),t}(l.Component),F=(n(27),function(e){var t=e.fleet,n=e.name,a=e.player,l="".concat("AI"===a?"flex-start":"flex-end");return c.a.createElement("div",{className:"info_ships"},c.a.createElement("div",{className:"name",style:{justifyContent:l}},n),c.a.createElement("div",{className:"ships"},Object.entries(t).map((function(e,t){var n=Object(r.a)(e,2),a=(n[0],n[1]);return c.a.createElement("div",{className:"ships__same_type",key:t,style:{justifyContent:l}},a.destroyed.filter((function(e){return e!==a.size})).map((function(e,t){return c.a.createElement("div",{className:"ships__unit",key:t,style:{width:"".concat(15*a.size,"px")}})})))}))))}),D=(n(28),function(e){var t=e.onClose,n=e.show,a=e.children;return n?c.a.createElement("div",{className:"modal_records",id:"modal_rec"},c.a.createElement("h2",null,' \u0422\u043e\u043f \u0438\u0433\u0440\u043e\u043a\u043e\u0432 "\u041c\u043e\u0440\u0441\u043a\u043e\u0439 \u0431\u043e\u0439"'),c.a.createElement("div",{className:"content_records"},a),c.a.createElement("div",{className:"actions_records"},c.a.createElement("button",{className:"toggle-button",onClick:function(){return t&&t(e);var e}},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"))):null}),B=function(){var e=Object(l.useState)([]),t=Object(r.a)(e,2),n=t[0],o=t[1],s=Object(l.useState)(null),u=Object(r.a)(s,2),f=u[0],m=u[1];Object(l.useEffect)((function(){m(setInterval((function(){return d()}),i.timeLoadRecords))}),[]),Object(l.useEffect)((function(){return function(){clearInterval(f)}}),[]);var d=function(){fetch("/api/records",{headers:Object(a.a)({},i.defaultHeaders)}).then((function(e){if(200===e.status)return console.log("Successfully loaded records"),e.json();throw new Error(e.statusText)})).then((function(e){o(e.filter((function(e){return"\u041c\u043e\u0440\u0441\u043a\u043e\u0439 \u0431\u043e\u0439"===e.game})))})).catch((function(e){return console.log(e)}))};return c.a.createElement("div",null,n.length?c.a.createElement("table",null,c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"record_header"},"\u0418\u0433\u0440\u043e\u043a"),c.a.createElement("th",{className:"record_header"},"\u041e\u0447\u043a\u0438"),c.a.createElement("th",{className:"record_header"},"\u0412\u0440\u0435\u043c\u044f")),n.map((function(e,t){return c.a.createElement("tr",{key:t},c.a.createElement("td",null,e.user),c.a.createElement("td",null,e.score),c.a.createElement("td",null,function(e){var t=N(e),n=t.hours,a=t.minutes,r=t.seconds;return"".concat(n," : ").concat(a," : ").concat(r)}(e.time)))})))):c.a.createElement("p",null,"\u041d\u0438\u043a\u0442\u043e \u0435\u0449\u0435 \u043d\u0435 \u0440\u0435\u0448\u0438\u043b\u0441\u044f \u043f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0441\u0432\u043e\u0438 \u0441\u0438\u043b\u044b."))};Object(o.render)(c.a.createElement((function(){var e=Object(l.useState)(""),t=Object(r.a)(e,2),n=t[0],o=t[1];Object(l.useEffect)((function(){fetch("/api/users",{headers:Object(a.a)({},i.defaultHeaders)}).then((function(e){if(200===e.status)return e.json();throw new Error(e.statusText)})).then((function(e){console.log(e),o("blabla")})).catch((function(e){return console.log("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.message))}))}),[]);return n?c.a.createElement(s,{logout:function(){fetch("/api/users",{method:"DELETE",headers:Object(a.a)({},i.defaultHeaders)}).then((function(e){if(200!==e.status)throw new Error(e.statusText);console.log("logout for ".concat(n," is successful")),o("")})).catch((function(e){return alert(e)}))},userName:n}):c.a.createElement(_,{logIn:function(e){o(e)}})}),null),document.getElementById("root"))}],[[13,1,2]]]);
//# sourceMappingURL=main.a1dee3da.chunk.js.map